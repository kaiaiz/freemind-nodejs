<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title></title>

  <!-- Set render engine for 360 browser -->
  <meta name="renderer" content="webkit">

  <!-- No Baidu Siteapp-->
  <meta http-equiv="Cache-Control" content="no-siteapp"/>

  <link rel="icon" type="image/png" href="i/favicon.png">

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="icon" sizes="192x192" href="i/app-icon72x72@2x.png">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Amaze UI"/>
  <link rel="apple-touch-icon-precomposed" href="i/app-icon72x72@2x.png">

  <!-- Tile icon for Win8 (144x144 + tile color) -->
  <meta name="msapplication-TileImage" content="i/app-icon72x72@2x.png">
  <meta name="msapplication-TileColor" content="#0e90d2">

  <!-- Amaze UI CSS -->
  <link rel="stylesheet" href="//cdn.amazeui.org/amazeui/2.1.0/css/amazeui.min.css">
  <script src="//libs.useso.com/js/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://cdn.rawgit.com/showdownjs/showdown/1.2.1/dist/showdown.min.js"></script>
  <style type="text/css">
  	#blog {
  		font-size: 18px;
		margin-top: 2%;
		margin-bottom: 5%;
		padding: 2% 5% 5% 5%;
		line-height: 150%;
		border: 1px solid LightGrey;
  	}  	
  </style>
  <script type="text/javascript">
  	/*function test(){
  		var converter = new showdown.Converter(),
    	text      = '###This is a ~~deleted text~~',
    	html      = converter.makeHtml(text);
    	var blogBody = $('#blog-body');
    	blogBody.html(html);
  	}*/
  	function makeMarkdown(text){
  		var converter = new showdown.Converter();
    	var html      = converter.makeHtml(text);
    	var blogBody = $('#blog-content');
    	blogBody.html(html); 		
  	};
  	function initBlog(blog){
  		var title = $('#blog-title');
  		var summary = $('#blog-summary');
  		var author = $('#blog-author');
  		title.text(blog.title);
  		author.text(blog.user_name);
  		summary.text(blog.summary);
  		$(document).attr('title', blog.title);
  		makeMarkdown(blog.content);
  	}
  	$(function(){
  		$.get('/api/blog/<%= blog_id%>', function(blog){
  			$('#loading').hide();
  			initBlog(blog);
  		});
  	});
  </script>
</head>
<body>

<header class="am-topbar">
  <h1 class="am-topbar-brand">
    <a href="#" class="am-icon-github-alt">专业打酱油</a>
  </h1>

  <button class="am-topbar-btn am-topbar-toggle am-btn am-btn-sm am-btn-success am-show-sm-only" data-am-collapse="{target: '#doc-topbar-collapse'}"><span class="am-sr-only">导航切换</span> <span class="am-icon-bars"></span></button>

  <div class="am-topbar-right am-collapse am-topbar-collapse" id="doc-topbar-collapse">
    <ul class="am-nav am-nav-pills am-topbar-nav">
      <li class="am-active"><a href="#">Blog</a></li>
      <li><a href="https://github.com/wp3xpp" class="am-icon-github">github</a></li>
      <li><a href="http://weibo.com/u/1696178397" class="am-icon-weibo">新浪微博</a></li>
    </ul>
  </div>
</header>

<div class="am-container">
  <div class="am-g">
    <div class="am-u-sm-9 am-u-sm-centered" id="blog">
      <article class="am-article">
  		<div class="am-article-hd">
    	<h1 class="am-article-title" id="blog-title"></h1>
    	<hr>
   		 <p class="am-article-meta" id="blog-author" style="font-size:18px;"></p>
  		</div>

 	 <div class="am-article-bd">
    	<p class="am-article-lead" id="blog-summary"></p>
    	<div id="loading" class="am-width-1-1 am-text-center">
          <span><i class="am-icon-spinner am-icon-medium am-icon-spin"></i> 正在加载...</span>
        </div>
    	<div id="blog-content">	　　
		</div>
 	 </div>
	</article>
    </div>
  </div>
</div>

<!--[if lt IE 9]>
<script src="//libs.useso.com/js/jquery/1.11.1/jquery.min.js"></script>
<script src="//cdn.staticfile.org/modernizr/2.8.3/modernizr.js"></script>
<script src="/js/polyfill/rem.min.js"></script>
<script src="//libs.useso.com/js/respond.js/1.4.2/respond.min.js"></script>
<script src="//cdn.amazeui.org/amazeui/2.1.0/js/amazeui.legacy.min.js"></script>
<![endif]-->

<!--[if (gte IE 9)|!(IE)]><!-->
<script src="//cdn.amazeui.org/amazeui/2.1.0/js/amazeui.min.js"></script>
<!--<![endif]-->

</body>
</html>